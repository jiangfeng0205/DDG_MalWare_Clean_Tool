# 清理工具使用说明

本清理工具适用于2019年2月21日爆发的Watchdogs挖矿蠕虫。
- Watchdogs挖矿蠕虫主要特征如下：
   + ps -ef | grep watchdogs               # 存在恶意进程watchdogs
   + ps -ef | grep ksoftirqds              # 存在恶意进程ksoftirqds
   + chkconfig | grep watchdogs            # 存在恶意启动项watchdogs
   + ldd \`which ps\` | grep libioset.so     # ps、rm等命令被so劫持 
   + crontab -l | grep pastebin            # 存在恶意的蠕虫下载计划任务
   
- 使用clear清理Watchdogs步骤：
   1. 上传busybox到/bin/目录下。
   2. 运行clear.sh。

-------------------------------

# 2019.3.4 新增clear_kthrotlds.sh

新增针对2019年3月1日Watchdogs进程变种为kthrotlds的挖矿蠕虫的清理脚本clear_kthrotlds.sh

- kthrotlds挖矿蠕虫变种主要特征如下：
   + watchdogs进程变更为kthrotlds
   + libioset.so变更为libcset.so
   + watchdogs开机启动项名称变更为netdns

- 使用clear_kthrotlds.sh清理kthrotlds步骤：
    1. 上传busybox到/bin/目录下。
    2. 运行clear_kthrotlds.sh。

# 备注：在运行.sh脚本过程中如果遇到权限问题解决办法
先用chmod让sh文件有可执行权限，Linux下面用命令如何运行.sh文件的方法，有两种方法：

- 一、直接./加上文件名.sh，如运行hello.sh为./hello.sh【hello.sh必须有x权限】

- 二、直接sh 加上文件名.sh，如运行hello.sh为sh hello.sh【hello.sh可以没有x权限】

- 如果没有权限。那么先设置权限，命令如下：

  chmod +x ****.sh

  cd 到****.sh   #文件路径下

  ./****.sh   #执行此****.sh文件


By 默安科技（MoreSec）
